<%
    dbax_core.g$var('active_menu') := 'Applications';
    dbax_core.g$var('page_head') := '
    <!-- SweetAlert 2-->     
    <link href="${resources_url}/plugins/sweetalert2/sweetalert2.css" rel="stylesheet" type="text/css" />
    
    <!--Footable -->
    <link href="${resources_url}/plugins/footable/css/footable.core.css" rel="stylesheet" type="text/css"/>
    
    <style type="text/css">
        th, td { white-space: nowrap; }        
    </style>        
    ';
%>
<%@ include(header) %>
<!-- SideBar -->
<?dbax dbax_core.include('sidebar');?> 
 <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            Manage Applications            
          </h1>
          <ol class="breadcrumb">
             <li><a href="${base_path}/index"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="${base_path}/applications"><i class="fa fa-rocket"></i> Applications</a></li>
          </ol> 
        </section>

        <!-- Main content -->
        <section class="content">
          
          <!-- Custom Tabs -->
          <div class="nav-tabs-custom">
            <ul class="nav nav-tabs">
              <li class="active"><a href="#Applications" data-toggle="tab"><i class="fa fa-rocket"></i> Applications</a></li>
              <li><a href="#Templates" data-toggle="tab"><i class="fa fa-file-text-o"></i> Templates</a></li>
              <li><a href="#Advanced" data-toggle="tab"><i class="fa fa-user-md"></i> Advanced</a></li>
            </ul>
            
            <div class="tab-content">             
             <div class="tab-pane active" id="Applications">
          
                    <div class="box box-solid box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">Applications</h3>
                        </div><!-- /.box-header -->
                        <div class="box-body">  
                            <div class="btn-toolbar">
                                <div class="btn-group">                                
                                    <a href="${base_path}/applications/new" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('app_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>
                                <div class="btn-group pull-right" role="group">  
                                   <a type="button" class="btn btn-success btn-xs" href="${base_path}/applications/import"> <i class="fa fa-upload"></i> Import</a>
                                </div>
                                <div class="btn-group pull-right" role="group">
                                   <a type="button" class="btn btn-warning btn-xs" href="${base_path}/applications/export"> <i class="fa fa-download"></i> Export</a>
                                </div>                      
                            </div>
                            <br>
                                <div class="table-responsive">                       
                                   <table class="table table-bordered table-striped footable" data-page-size="15" id="app_table">                                 
                                       <thead>
                                          <tr>
                                             <th data-sort-ignore="true"><input type="checkbox" id="selectAllApps" onclick="checkAll(this.id,'app_table');" name="all" title="Click to select all rows"></th>
                                             <th data-sort-initial="true">AppId</th>
                                             <th>Name</th>
                                             <th>Description</th>
                                             <th>Active</th>
                                             <th>Access Cotrol</th>
                                             <th>Auth Scheme</th>                                                       
                                          </tr>
                                       </thead>      
                                       <tbody>
                                        <%    for c1 in (select * from table (tapi_wdx_applications.tt) where app_type = 'APP')
                                              loop %>                                        
                                                <tr>
                                                    <td><input type="checkbox" value="<%= c1.appid %>"></td>
                                                    <td><a href="${base_path}/applications/edit/<%= c1.appid %>"><%= c1.appid %></a></td>
                                                    <td><%= c1.appid %></td>
                                                    <td><%= c1.Description %></td>
                                                    <% if c1.Active = 'Y' then %>
                                                        <td><span class="label label-success">Active</span></td>
                                                    <% else %> 
                                                        <td><span class="label label-danger">Inactive</span></td>                                                
                                                    <% end if; %>
                                                    <td><%= c1.access_control %></td>
                                                    <td><%= c1.auth_scheme %></td>
                                                </tr>
                                              <% end loop; %>
                                         </tbody>
                                    <tfoot class="hide-if-no-paging">
                                        <tr>
                                            <td colspan="7" class="text-center">
                                                <ul class="pagination"></ul>
                                            </td>
                                        </tr>
                                    </tfoot>
                                 </table>
                              </div>
                              <div class="btn-toolbar">
                                <div class="btn-group">
                                    <a href="${base_path}/applications/new" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">                                
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('app_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>                                
                            </div>
                        </div><!-- /.box-body -->
                    </div> <!-- /.box -->
               </div> <!-- /.tab-pane -->
              
              
               <div class="tab-pane" id="Templates">
          
                    <div class="box box-solid box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">Templates</h3>
                        </div><!-- /.box-header -->
                        <div class="box-body">  
                            <div class="btn-toolbar">
                                <div class="btn-group">                                
                                    <a href="${base_path}/applications/new/template" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('template_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>
                                <div class="btn-group pull-right" role="group">  
                                   <a type="button" class="btn btn-success btn-xs" href="${base_path}/applications/import/template"> <i class="fa fa-upload"></i> Import</a>
                                </div>
                                <div class="btn-group pull-right" role="group">
                                   <a type="button" class="btn btn-warning btn-xs" href="${base_path}/applications/export/template"> <i class="fa fa-download"></i> Export</a>
                                </div>                      
                            </div>
                            <br>
                                <div class="table-responsive">                       
                                   <table class="table table-bordered table-striped footable" data-page-size="15" id="template_table">                                 
                                       <thead>
                                          <tr>
                                             <th data-sort-ignore="true"><input type="checkbox" id="selectAllTemplates" onclick="checkAll(this.id,'template_table');" name="all" title="Click to select all rows"></th>
                                             <th data-sort-initial="true">AppId</th>
                                             <th>Name</th>
                                             <th>Description</th>
                                             <th>Active</th>
                                             <th>Access Cotrol</th>
                                             <th>Auth Scheme</th>                                                       
                                          </tr>
                                       </thead>      
                                       <tbody>
                                        <%    for c1 in (select * from table (tapi_wdx_applications.tt) where app_type = 'TEMPLATE')
                                              loop %>                                        
                                                <tr>
                                                    <td><input type="checkbox" value="<%= c1.appid %>"></td>
                                                    <td><a href="${base_path}/applications/edit/<%= c1.appid %>"><%= c1.appid %></a></td>
                                                    <td><%= c1.appid %></td>
                                                    <td><%= c1.Description %></td>
                                                    <% if c1.Active = 'Y' then %>
                                                        <td><span class="label label-success">Active</span></td>
                                                    <% else %> 
                                                        <td><span class="label label-danger">Inactive</span></td>                                                
                                                    <% end if; %>
                                                    <td><%= c1.access_control %></td>
                                                    <td><%= c1.auth_scheme %></td>
                                                </tr>
                                              <% end loop; %>
                                         </tbody>
                                    <tfoot class="hide-if-no-paging">
                                        <tr>
                                            <td colspan="7" class="text-center">
                                                <ul class="pagination"></ul>
                                            </td>
                                        </tr>
                                    </tfoot>
                                 </table>
                              </div>
                              <div class="btn-toolbar">
                                <div class="btn-group">
                                    <a href="${base_path}/applications/new/template" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">                                
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('template_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>                                
                            </div>
                        </div><!-- /.box-body -->
                    </div> <!-- /.box -->
               </div> <!-- /.tab-pane -->             
              
               <div class="tab-pane" id="Advanced">
          
                    <div class="box box-solid box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">Advanced</h3>
                        </div><!-- /.box-header -->
                        <div class="box-body">  
                            <div class="btn-toolbar">
                                <div class="btn-group">                                
                                    <a href="${base_path}/applications/new/advanced" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('advanced_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>
                                <div class="btn-group pull-right" role="group">  
                                   <a type="button" class="btn btn-success btn-xs" href="${base_path}/applications/import/advanced"> <i class="fa fa-upload"></i> Import</a>
                                </div>
                                <div class="btn-group pull-right" role="group">
                                   <a type="button" class="btn btn-warning btn-xs" href="${base_path}/applications/export/advanced"> <i class="fa fa-download"></i> Export</a>
                                </div>                      
                            </div>
                            <br>
                                <div class="table-responsive">                       
                                   <table class="table table-bordered table-striped footable" data-page-size="15" id="advanced_table">                                 
                                       <thead>
                                          <tr>
                                             <th data-sort-ignore="true"><input type="checkbox" id="selectAllAdvanced" onclick="checkAll(this.id,'advanced_table');" name="all" title="Click to select all rows"></th>
                                             <th data-sort-initial="true">AppId</th>
                                             <th>Name</th>
                                             <th>Description</th>
                                             <th>Active</th>
                                             <th>Access Cotrol</th>
                                             <th>Auth Scheme</th>                                                       
                                          </tr>
                                       </thead>      
                                       <tbody>
                                        <%    for c1 in (select * from table (tapi_wdx_applications.tt) where app_type = 'ADVANCED')
                                              loop %>                                        
                                                <tr>
                                                    <td><input type="checkbox" value="<%= c1.appid %>"></td>
                                                    <td><a href="${base_path}/applications/edit/<%= c1.appid %>"><%= c1.appid %></a></td>
                                                    <td><%= c1.appid %></td>
                                                    <td><%= c1.Description %></td>
                                                    <% if c1.Active = 'Y' then %>
                                                        <td><span class="label label-success">Active</span></td>
                                                    <% else %> 
                                                        <td><span class="label label-danger">Inactive</span></td>                                                
                                                    <% end if; %>
                                                    <td><%= c1.access_control %></td>
                                                    <td><%= c1.auth_scheme %></td>
                                                </tr>
                                              <% end loop; %>
                                         </tbody>
                                    <tfoot class="hide-if-no-paging">
                                        <tr>
                                            <td colspan="7" class="text-center">
                                                <ul class="pagination"></ul>
                                            </td>
                                        </tr>
                                    </tfoot>
                                 </table>
                              </div>
                              <div class="btn-toolbar">
                                <div class="btn-group">
                                    <a href="${base_path}/applications/new/advanced" class="btn btn-primary btn-xs"> <i class="fa fa-edit"></i> New</a>
                                </div>
                                <div class="btn-group">                                
                                    <button type="button" class="btn btn-danger btn-xs" onclick="Delete('advanced_table','${base_path}/applications/delete')"> <i class="fa fa-trash"></i> Delete</button>
                                </div>                                
                            </div>
                        </div><!-- /.box-body -->
                    </div> <!-- /.box -->
               </div> <!-- /.tab-pane -->    
              
              
              
              </div> <!-- /.tab-content -->
            </div> <!-- /.tab-custom" -->

        </section><!-- /.content -->
      </div><!-- /.content-wrapper -->
   
    <?dbax dbax_core.include('footer'); ?>    

    <!-- dbaxAdmin -->
    <script src="${resources_url}/plugins/dbaxadmin/dbaxadmin.js" type="text/javascript"></script>
    
    <!-- SweetAlert 2 -->
    <script src="${resources_url}/plugins/sweetalert2/sweetalert2.min.js" type="text/javascript"></script>

   <!--Footable -->
   <script src="${resources_url}/plugins/footable/footable.min.js" type="text/javascript"></script>
   <script src="${resources_url}/plugins/footable/footable.sort.min.js" type="text/javascript"></script>
   <script src="${resources_url}/plugins/footable/footable.paginate.min.js" type="text/javascript"></script>
    
    <script type="text/javascript">      
      //Init footable
      $(function () {
            $('#app_table').footable();
            $('#template_table').footable();
            $('#advanced_table').footable();
        });       
          
    </script>
    
  </body>
</HTML>